<h1 class="page-title">Visualization #<%=@visualization.id%>: <%=@visualization.chart_title%></h1>

<%# Setup %>
<% chart_info = get_chart_info(params[:id]) %>
<% chart_type = chart_info[:chart_type] %>
<% chart_data = chart_info[:data] %>


<%# Plotting %>
<div class="full-chart">
    <% case chart_type %>
        <% when 'line_chart'%>
            <%= line_chart chart_data %>
        <% when 'pie_chart'%>
            <%= pie_chart chart_data, donut: true %>
        <% when 'bar_chart'%>
            <%= bar_chart chart_data %>
        <% when 'column_chart'%>
            <%= column_chart chart_data %>
    <% end %>
</div>